<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data:; script-src 'self'; style-src 'self' 'unsafe-inline'; connect-src 'self'; base-uri 'none'; form-action 'self'; frame-ancestors 'none'; object-src 'none'; upgrade-insecure-requests">
    <meta name="referrer" content="strict-origin-when-cross-origin" />
    <meta name="color-scheme" content="dark light" />
    <title>Tablero de agentes — Vulcano Ai</title>
    <meta name="description" content="Estado de los agentes de recolección, clasificación, resumen y publicación." />
    <link rel="icon" href="/assets/img/favicon.svg" type="image/svg+xml" />
    <link rel="stylesheet" href="/assets/css/styles.css?v=3" />
  </head>
  <body class="grid-room">
    <a href="#main" class="skip-link">Saltar al contenido</a>
    <header class="site-header">
      <div class="container header-inner">
        <a class="brand" href="/pages/noticias.html">
          <svg class="logo" aria-hidden="true"><use href="/assets/icons.svg#logo"></use></svg>
          <span class="brand-text">Vulcano AI</span>
        </a>

        <!-- Global Time Zone Indicators -->
        <div class="global-time" id="global-time">
          <div class="time-zone" data-tz="America/Mexico_City">
            <span class="tz-label">MX</span>
            <span class="tz-time">--:--</span>
          </div>
          <div class="time-zone" data-tz="America/Bogota">
            <span class="tz-label">COL</span>
            <span class="tz-time">--:--</span>
          </div>
          <div class="time-zone" data-tz="America/Argentina/Buenos_Aires">
            <span class="tz-label">AR</span>
            <span class="tz-time">--:--</span>
          </div>
          <div class="time-zone" data-tz="America/Sao_Paulo">
            <span class="tz-label">BR</span>
            <span class="tz-time">--:--</span>
          </div>
        </div>

        <!-- Theme Toggle -->
        <div class="theme-selector">
          <button class="theme-toggle" aria-label="Cambiar tema" id="theme-toggle">
            <svg class="theme-icon" aria-hidden="true">
              <use href="/assets/icons.svg#palette"></use>
            </svg>
          </button>
        </div>

        <button class="nav-toggle" aria-label="Abrir menú">
          <span class="nav-toggle-line"></span>
          <span class="nav-toggle-line"></span>
          <span class="nav-toggle-line"></span>
        </button>
        <nav class="site-nav" aria-label="Principal">
          <a href="/pages/noticias.html">Inicio</a>
          <a href="/pages/crypto.html">Crypto</a>
          
          <a href="/pages/observatorio-legal.html">Observatorio</a>
          <a href="/pages/actualizaciones.html">Actualizaciones</a>
          <a href="/pages/apoya.html">Apoyar</a>
          <a href="/pages/agentes.html" aria-current="page">Agentes</a>
          <a href="/pages/fuentes.html">Fuentes</a>
          <a href="/pages/vulcano.html">Qué es Vulcano AI</a>
        </nav>
      </div>
    </header>
    <main class="app-main" id="main">
      <div class="app-container">
        <!-- App Profile Header -->
        <div class="app-profile">
          <div class="profile-avatar">
            <svg class="avatar-icon" aria-hidden="true">
              <use href="/assets/icons.svg#users"></use>
            </svg>
          </div>
          <div class="profile-info">
            <h1 class="profile-name">Agentes IA</h1>
            <p class="profile-subtitle">Sistema Autónomo</p>
          </div>
          <div class="profile-stats">
            <div class="stat-pill">
              <span class="stat-number" id="active-agents-counter">1</span>
              <span class="stat-text">Activos</span>
            </div>
          </div>
        </div>

        <!-- Quick Actions Grid -->
        <div class="quick-actions">
          <h2 class="section-title">Acciones Rápidas</h2>
          <div class="action-grid">
            <button class="action-card" data-action="status">
              <svg class="action-icon" aria-hidden="true">
                <use href="/assets/icons.svg#activity"></use>
              </svg>
              <span class="action-label">Estado</span>
            </button>

            <button class="action-card" data-action="pipeline">
              <svg class="action-icon" aria-hidden="true">
                <use href="/assets/icons.svg#layers"></use>
              </svg>
              <span class="action-label">Pipeline</span>
            </button>

            <button class="action-card" data-action="metrics">
              <svg class="action-icon" aria-hidden="true">
                <use href="/assets/icons.svg#bar-chart"></use>
              </svg>
              <span class="action-label">Métricas</span>
            </button>

            <button class="action-card" data-action="logs">
              <svg class="action-icon" aria-hidden="true">
                <use href="/assets/icons.svg#file-text"></use>
              </svg>
              <span class="action-label">Logs</span>
            </button>

            <button class="action-card" data-action="refresh">
              <svg class="action-icon" aria-hidden="true">
                <use href="/assets/icons.svg#refresh"></use>
              </svg>
              <span class="action-label">Actualizar</span>
            </button>

            <button class="action-card" data-action="settings">
              <svg class="action-icon" aria-hidden="true">
                <use href="/assets/icons.svg#settings"></use>
              </svg>
              <span class="action-label">Configurar</span>
            </button>
          </div>
        </div>

        <!-- Agent Status Overview -->
        <div class="agent-status-overview">
          <h2 class="section-title">Estado del Sistema</h2>
          <div class="status-grid">
            <div class="status-card primary">
              <div class="status-indicator">
                <div class="status-dot ok" id="system-status"></div>
                <span class="status-text">Sistema Principal</span>
              </div>
              <div class="status-details">
                <div class="status-value" id="uptime">99.8%</div>
                <div class="status-label">Tiempo Activo</div>
              </div>
            </div>

            <div class="status-card">
              <div class="status-indicator">
                <div class="status-dot processing" id="pipeline-status"></div>
                <span class="status-text">Pipeline</span>
              </div>
              <div class="status-details">
                <div class="status-value" id="processing-rate">~24/h</div>
                <div class="status-label">Artículos/hora</div>
              </div>
            </div>

            <div class="status-card">
              <div class="status-indicator">
                <div class="status-dot ok" id="data-status"></div>
                <span class="status-text">Datos</span>
              </div>
              <div class="status-details">
                <div class="status-value" id="last-update">2min</div>
                <div class="status-label">Última actualización</div>
              </div>
            </div>

            <div class="status-card codex">
              <div class="status-indicator">
                <div class="status-dot ok" id="codex-status"></div>
                <span class="status-text">Codex 1</span>
              </div>
              <div class="status-details">
                <div class="status-value" id="codex-performance">Óptimo</div>
                <div class="status-label">Rendimiento</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Activity Feed -->
        <div class="activity-feed">
          <div class="feed-header">
            <h2 class="section-title">Actividad del Sistema</h2>
            <div class="feed-filters">
              <select class="filter-pill" id="filter-agent" aria-label="Filtrar por agente">
                <option value="">Todos los Agentes</option>
                <option value="Codex1">Codex 1</option>
                <option value="Pipeline">Pipeline</option>
                <option value="Sistema">Sistema</option>
              </select>
            </div>
          </div>
          <div id="agent-activity-list" class="activity-list" aria-live="polite">
            <!-- Agent activity loaded dynamically -->
          </div>
        </div>
      </div>
    </main>
    <footer class="site-footer">
      <div class="container footer-inner">
        <div class="footer-brand">
          <svg class="logo small" aria-hidden="true"><use href="/assets/icons.svg#logo"></use></svg>
          <div>
            <strong>Vulcano AI</strong>
            <div class="muted">Vulcano Ai Digital Solutions S.A.S - 2025 Todos los derechos reservados</div>
          </div>
        </div>
        <nav class="footer-nav">
          <a href="/pages/legal/privacidad.html">Privacidad</a>
          <a href="/pages/legal/terminos.html">Términos</a>
          <a href="/pages/vulcano.html">Qué es Vulcano AI</a>
        </nav>
      </div>
    </footer>
    <script src="/assets/js/config.js"></script>
    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/status-badge.js"></script>
    <script src="/assets/js/app.js?v=9"></script>
    <script>
      // Agents app-specific functionality
      document.addEventListener('DOMContentLoaded', function() {
        // Initialize agent activity simulator
        function simulateAgentActivity() {
          const activityList = document.getElementById('agent-activity-list');
          if (!activityList) return;

          const activities = [
            {
              agent: 'Codex 1',
              action: 'Procesó 12 artículos de fuentes RSS',
              time: 'hace 2 min',
              status: 'ok'
            },
            {
              agent: 'Pipeline',
              action: 'Clasificación automática completada',
              time: 'hace 5 min',
              status: 'ok'
            },
            {
              agent: 'Sistema',
              action: 'Actualización de índice LATAM',
              time: 'hace 8 min',
              status: 'processing'
            },
            {
              agent: 'Codex 1',
              action: 'Análisis de sentimiento terminado',
              time: 'hace 12 min',
              status: 'ok'
            }
          ];

          activityList.innerHTML = activities.map(activity => `
            <div class="activity-item">
              <div class="activity-indicator">
                <div class="activity-dot ${activity.status}"></div>
              </div>
              <div class="activity-content">
                <div class="activity-title">${activity.action}</div>
                <div class="activity-meta">
                  <span class="activity-agent">${activity.agent}</span>
                  <span class="activity-time">${activity.time}</span>
                </div>
              </div>
            </div>
          `).join('');
        }

        // Action card interactions
        document.querySelectorAll('.action-card').forEach(card => {
          card.addEventListener('click', function() {
            const action = this.dataset.action;
            console.log('Agent action:', action);

            // Add haptic feedback
            if (navigator.vibrate) {
              navigator.vibrate(50);
            }

            // Handle specific agent actions
            switch (action) {
              case 'status':
                document.querySelector('.agent-status-overview')?.scrollIntoView({ behavior: 'smooth' });
                break;
              case 'pipeline':
              case 'logs':
                // Filter activity by type
                const filterSelect = document.getElementById('filter-agent');
                if (filterSelect) {
                  filterSelect.value = action === 'pipeline' ? 'Pipeline' : 'Sistema';
                  filterSelect.dispatchEvent(new Event('change'));
                }
                break;
              case 'refresh':
                // Simulate refresh
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                  this.style.transform = '';
                  simulateAgentActivity();
                }, 150);
                break;
            }
          });
        });

        // Initialize simulated data
        simulateAgentActivity();

        // Update status indicators periodically
        setInterval(() => {
          const dots = document.querySelectorAll('.status-dot');
          dots.forEach(dot => {
            if (Math.random() > 0.9) {
              dot.style.opacity = '0.5';
              setTimeout(() => dot.style.opacity = '', 200);
            }
          });
        }, 3000);
      });
    </script>
  
    <!-- Agents Panel Overlay -->
    <div class="panel-overlay" data-panel="agents">
      <div class="panel-sheet">
        <div class="panel-header">
          <h2 class="panel-title">Agentes IA</h2>
          <button class="panel-close" aria-label="Cerrar">
            <svg aria-hidden="true" width="20" height="20"><use href="/assets/icons.svg#x"></use></svg>
          </button>
        </div>
        <div class="panel-content">
          <p>Cargando dashboard de agentes IA...</p>
        </div>
      </div>
    </div>

    <!-- Analytics Panel Overlay -->
    <div class="panel-overlay" data-panel="analytics">
      <div class="panel-sheet large">
        <div class="panel-header">
          <h2 class="panel-title">Análisis</h2>
          <button class="panel-close" aria-label="Cerrar">
            <svg aria-hidden="true" width="20" height="20"><use href="/assets/icons.svg#x"></use></svg>
          </button>
        </div>
        <div class="panel-content">
          <p>Cargando datos de análisis...</p>
        </div>
      </div>
    </div>

    <!-- Sources Panel Overlay -->
    <div class="panel-overlay" data-panel="sources">
      <div class="panel-sheet">
        <div class="panel-header">
          <h2 class="panel-title">Fuentes de Datos</h2>
          <button class="panel-close" aria-label="Cerrar">
            <svg aria-hidden="true" width="20" height="20"><use href="/assets/icons.svg#x"></use></svg>
          </button>
        </div>
        <div class="panel-content">
          <p>Cargando fuentes de datos...</p>
        </div>
      </div>
    </div>
    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
      <a href="/pages/noticias.html" class="nav-item" data-page="home">
        <svg class="nav-icon" aria-hidden="true">
          <use href="/assets/icons.svg#home"></use>
        </svg>
        <span class="nav-label">Home</span>
      </a>
      <a href="/pages/agentes.html" class="nav-item active" aria-current="page" data-page="agents">
        <svg class="nav-icon" aria-hidden="true">
          <use href="/assets/icons.svg#users"></use>
        </svg>
        <span class="nav-label">Agentes</span>
      </a>
      <a href="/pages/crypto.html" class="nav-item" data-page="markets">
        <svg class="nav-icon" aria-hidden="true">
          <use href="/assets/icons.svg#trending-up"></use>
        </svg>
        <span class="nav-label">Markets</span>
      </a>
      <a href="/pages/apoya.html" class="nav-item" data-page="support">
        <svg class="nav-icon" aria-hidden="true">
          <use href="/assets/icons.svg#heart"></use>
        </svg>
        <span class="nav-label">Support</span>
      </a>
    </nav>
    <script src="/assets/js/panels.js"></script>
  </body>